<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pizzeria Da Rocco AR</title>

<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

<style>
body {
    margin:0;
    font-family: Arial, sans-serif;
    background: url('images/sfondo.jpg') center center fixed;
    background-size: cover;
    background-color: #111;
    color: white;
}

#overlay {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    backdrop-filter: brightness(0.4);
    overflow-y:auto;
}

header {
    text-align:center;
    padding:20px;
}

header img {
    max-width:200px;
}

.menu {
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:15px;
    padding-bottom:40px;
}

.menu button {
    width:80%;
    max-width:400px;
    padding:15px;
    font-size:18px;
    background-color:#c62828;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
}

.menu button:active {
    background-color:#ff5252;
}

#arContainer {
    display:none;
}

#backBtn {
    position:fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    padding:12px 30px;
    font-size:16px;
    background-color:black;
    color:white;
    border:none;
    border-radius:8px;
    z-index:999;
}
</style>
</head>

<body>

<div id="overlay">
<header>
    <img src="images/logo.png">
</header>

<div class="menu">
    <button onclick="openAR()">Margherita</button>
    <button onclick="openAR()">Diavola</button>
    <button onclick="openAR()">Capricciosa</button>
    <button onclick="openAR()">Panino Kebab</button>
    <button onclick="openAR()">Hamburger Special</button>
</div>
</div>

<div id="arContainer">
    <button id="backBtn" onclick="closeAR()">Torna al Menu</button>

    <a-scene embedded arjs>
        <a-marker preset="hiro">
            <a-entity 
                gltf-model="models/pizza.glb"
                scale="0.5 0.5 0.5"
                position="0 0 0"
                rotation="0 0 0">
            </a-entity>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
</div>

<audio id="dinSound" src="sounds/din.mp3"></audio>
<audio id="piattiSound" src="sounds/piatti.mp3"></audio>

<script>

const din = document.getElementById("dinSound");
const piatti = document.getElementById("piattiSound");

function openAR() {
    din.currentTime = 0;
    din.play();

    document.getElementById("overlay").style.display = "none";
    document.getElementById("arContainer").style.display = "block";
}

function closeAR() {
    piatti.currentTime = 0;
    piatti.play();

    document.getElementById("overlay").style.display = "block";
    document.getElementById("arContainer").style.display = "none";
}

</script>

</body>
</html>
